<app-header title="Daily Notes"></app-header>

<div class="p-6 max-w-2xl mx-auto space-y-6">
  @if (isLoading()) {
    <app-loading-spinner [fullScreen]="false" message="Loading Notes..." />
  } @else {
    <!-- Date Picker -->
    <div class="bg-bg-card p-4 rounded-lg shadow-sm border border-border flex items-center justify-between animate-in fade-in slide-in-from-bottom-4 duration-500">
      <div class="flex items-center gap-3">
        <i class="pi pi-calendar text-primary text-xl"></i>
        <span class="font-medium text-text-main">Selected Date</span>
      </div>
      <input type="date" [ngModel]="service.selectedDate()" (ngModelChange)="onDateChange($event)"
        class="p-2 border border-border rounded-lg bg-bg-input text-text-main focus:ring-2 focus:ring-primary focus:border-transparent outline-none">
    </div>

    <!-- Editor -->
    <div class="animate-in fade-in slide-in-from-bottom-4 duration-500 delay-100">
      <app-note-editor (save)="onSaveNote($event)" />
    </div>

    <!-- List -->
    <div class="animate-in fade-in slide-in-from-bottom-4 duration-500 delay-200">
      <app-note-list [notes]="service.filteredNotes()" (delete)="onDeleteNote($event)" />
    </div>
  }
</div>