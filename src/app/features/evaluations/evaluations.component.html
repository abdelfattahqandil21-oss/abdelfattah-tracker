<app-header title="Daily Evaluations"></app-header>

<div class="p-6 max-w-5xl mx-auto space-y-6">
   @if (isLoading()) {
   <app-loading-spinner [fullScreen]="false" message="Loading Evaluations..." />
   } @else {
   <!-- Filter Bar -->
   <app-eval-filter-bar [activePeriod]="service.filterPeriod()"
      (periodChange)="onPeriodChange($event)"></app-eval-filter-bar>

   <!-- Stats Cards -->
   <div class="animate-in fade-in slide-in-from-bottom-4 duration-500">
      <app-eval-stats-cards [stats]="service.stats()"></app-eval-stats-cards>
   </div>

   <!-- Quick Add -->
   <div class="animate-in fade-in slide-in-from-bottom-4 duration-500 delay-100">
      <app-eval-quick-add [selectedDate]="service.selectedDate()" [isEvaluated]="service.isEvaluated()"
         (dateChange)="onDateChange($event)" (evalAdded)="onEvalAdded($event)" />
   </div>

   <div class="animate-in fade-in slide-in-from-bottom-4 duration-500 delay-200">
      <app-eval-history-table [days]="service.dailyBreakdown()" [showPagination]="service.filterPeriod() === 'week'"
         [weekLabel]="service.currentWeekRange().label" (scoreChanged)="onScoreChanged($event)" (next)="onNextWeek()"
         (prev)="onPrevWeek()" />
   </div>
   }
</div>